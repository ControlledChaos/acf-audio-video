{"version":3,"sources":["webpack:///webpack/bootstrap 981f6c309a09d2226095","webpack:///./scripts/src/field/index.js","webpack:///./scripts/src/field/SelectFrame.js"],"names":["$","jQuery","acf","fields","audioVideo","field","extend","type","$el","actions","events","focus","$field","find","$inputContainer","$playerContainer","o","get_data","allowedTypes","allowed_types","split","map","t","trim","selectFrameType","general_type","inputName","__getInputName","children","attr","length","indexOf","join","splice","initialize","__getTag","attributes","__guessTag","i","audio_types","render","tag","nextAttributes","prevAttributes","sources","undefined","__getSources","empty","removeClass","$mediaElement","addClass","html","__getPlayerMarkup","MediaElementPlayer","Object","keys","forEach","__insertHiddenInput","name","__triggerChange","reduce","ext","concat","__getMime","src","atts","__getTagAtts","height","defaults","playerDefaults","hasOwnProperty","attName","value","data","key","appendTo","_","isEqual","trigger","add","$repeater","get_closest_field","multiple","exists","selectFrame","title","_e","mode","library","mime_types","select","attachment","idx","$row","closest","nextAll","each","el","get_field","repeater","doFocus","url","toLowerCase","pop","image","test","poster","args","set","open","edit","__getAttributesFromInputs","shortcode","__getShortcode","editFrame","wp","media","on","__getNextAttributes","detach","toArray","getAttribute","replace","frameAttributes","remove","prop","bind","SelectFrame","settings","createFrame","_get_media_frame_settings","states","_getLibraryTypes","Query","query","isset","mirroring","_acfuploader","controller","Library","priority","filterable","editable","allowLocalEdits","push","EditImage","frame","uploader","options","params","allowed_extensions","addEvents","_add_media_frame_events","toolbar","content","get","filters","all","text","uploaded","audio","video","k","filter","props","setTimeout","generalType","String","libraryTypes","Array","postId","isNumeric","button","post_id","id","frames"],"mappings":"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","file":"acf-audio-video-field.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 981f6c309a09d2226095","import SelectFrame from './SelectFrame'\n\nconst $ = jQuery\n\nacf.fields.audioVideo = acf.field.extend({\n  type: 'audioVideo',\n  $el: null,\n  actions: {\n    'ready': 'initialize',\n    'append': 'initialize'\n  },\n  events: {\n    'click a[data-name=\"add\"]': 'add',\n    'click a[data-name=\"edit\"]': 'edit',\n    'click a[data-name=\"remove\"]': 'remove'\n  },\n  focus: function () {\n    this.$el = this.$field.find('.acf-audio-video-uploader')\n    this.$inputContainer = this.$el.find('.acf-hidden')\n    this.$playerContainer = this.$el.find('.player-container')\n    this.o = acf.get_data(this.$el)\n    this.allowedTypes = this.o.allowed_types.split(',').map(t => t.trim())\n    this.selectFrameType = !this.o.general_type || this.o.general_type == 'both'\n      ? ['audio', 'video']\n      : this.o.general_type\n    this.inputName = this.__getInputName()\n  },\n  __getInputName: function () {\n    const inputName = this.$inputContainer\n      .children(':first')\n      .attr('name')\n      .split('][')\n\n    if (inputName[inputName.length - 1].indexOf('field') == 0)\n      return inputName.join('][')\n\n    inputName.splice(inputName.length - 1, 1)\n\n    return inputName.join('][')+']'\n  },\n  initialize: function () {\n    /* noop */\n  },\n  __getTag: function (attributes) {\n    if (typeof attributes === 'undefined') { return this.o.general_type }\n    return this.o.general_type && this.o.general_type !== 'both'\n      ? this.o.general_type\n      : this.__guessTag(attributes)\n  },\n  __guessTag: function (attributes) {\n    for (let i = 0; i < this.allowedTypes.length; i++)\n      if (attributes[this.allowedTypes[i]]) {\n        return this.o.audio_types.indexOf(this.allowedTypes[i]) > -1\n          ? 'audio'\n          : 'video'\n      }\n\n    return 'video'\n  },\n  render: function ({ tag, nextAttributes, prevAttributes }) {\n    const sources = ( tag && tag != undefined ) \n      ? this.__getSources(tag, nextAttributes)\n      : []\n\n    this.$playerContainer.empty().removeClass('audio video')\n    this.$inputContainer.empty()\n    if (sources.length) {\n      const $mediaElement = this.$playerContainer\n        .addClass(tag)\n        .html(this.__getPlayerMarkup(tag, nextAttributes, sources))\n        .find(tag)\n\n      new MediaElementPlayer($mediaElement[0])\n      \n      Object.keys(nextAttributes).forEach(name =>\n        this.__insertHiddenInput(name, nextAttributes[name])\n      )\n      this.$el.addClass('has-value')\n    } else {\n      this.__insertHiddenInput()\n      this.$el.removeClass('has-value')\n    }\n\n    this.__triggerChange(prevAttributes, nextAttributes);\n  },\n  __getSources: function (tag, attributes) {\n    return this.allowedTypes.reduce(\n      (sources, ext) =>\n        attributes[ext]\n          ? sources.concat({\n              type: this.__getMime(tag, ext),\n              src: attributes[ext]\n            })\n          : sources,\n      []\n    )\n  },\n  __getMime: function (tag, ext) {\n    switch(ext) {\n      case 'mp3':\n        return 'audio/mpeg'\n      case 'wav':\n        return 'audio/wav'\n      case 'mp4':\n      case 'm4v':\n        return 'video/mp4'\n      case 'webm':\n        return 'video/webm'\n      case 'ogv':\n        return 'video/ogg'\n      case 'ogg':\n        return `${tag}/ogg`\n      case 'flv':\n        return 'video/flv'\n      default:\n        return `${tag}/${ext}`\n    }\n  },\n  __getPlayerMarkup: function (tag, attributes, sources) {\n    const atts = this.__getTagAtts(tag, attributes)\n    const height = tag == 'video'\n      ? 'height=\"360\"'\n      : ''\n\n    return `<div class=\"wp-${tag}\">\n      <!--[if lt IE 9]><script>document.createElement('${tag}');</script><![endif]-->\n      <${tag} class=\"wp-${tag}-shortcode\" width=\"640\" ${height} ${atts} controls>\n        ${sources.map(({ type, src }) =>\n          `<source type=\"${type}\" src=\"${src}?_=1\"/>`\n        )}\n      </${tag}>\n    </div>`\n  },\n  __getTagAtts: function (tag, attributes) {\n    const defaults = this.o.playerDefaults[tag]\n\n    return Object\n      .keys(defaults).concat('poster')\n      .reduce(\n        (atts, name) =>\n          attributes.hasOwnProperty(name)\n            ? `${atts} ${name}=\"${attributes[name]}\"`\n            : atts,\n        ''\n      )\n  },\n  __insertHiddenInput: function (attName, value) {\n    const { key } = this.$field.data()\n    const name = !attName\n      ? this.inputName\n      : `${this.inputName}[${attName}]`\n\n    $('<input type=\"hidden\">')\n      .attr({ name, value })\n      .appendTo(this.$inputContainer)\n  },\n  __triggerChange: function (prevAttributes, nextAttributes) {\n    /* register unsaved changes */\n    if (!prevAttributes || !_.isEqual(prevAttributes, nextAttributes))\n      this.$inputContainer.children(':first').trigger('change')\n  },\n  add: function () {\n    let $field = this.$field\n    const $repeater = acf.get_closest_field($field, 'repeater')\n    const multiple = $repeater.exists()\n    this.selectFrame = new SelectFrame({\n      title: acf._e('audioVideo', 'select'),\n      mode: 'select',\n      type: this.selectFrameType,\n      field: $field.data('key'),\n      multiple,\n      library: this.o.library,\n      mime_types: this.o.allowed_types,\n      select: (attachment, idx) => {\n        /* Populate subsequent fields of this kind\n         * if this field is in a repeater field and\n         * user has selected multiple files.\n         */\n        let $row = multiple && $field.closest('.acf-row')\n        \n        if (idx > 0) {\n          const key = $field.data('key')\n          \n          $field = false\n\n          // find next field\n          $row.nextAll('.acf-row:visible').each((idx, el) => {\n            $field = acf.get_field(key, $(el))\n            \n            if (!$field)\n              return\n            \n            // bail early if next file uploader has value\n            if ($field.find('.acf-file-uploader.has-value').exists()) {\n              $field = false\n              return\n            } \n              \n            // end loop if $next is found\n            return false\n          })\n          \n          // add extra row if next is not found\n          if (!$field) {\n            $row = acf.fields.repeater.doFocus($repeater).add()\n            \n            // bail early if no $row (maximum rows hit)\n            if (!$row)\n              return false\n            \n            // get next $field\n            $field = acf.get_field(key, $row)\n          }\n        }\n\n        const ext = attachment.attributes.url.toLowerCase().split('.').pop()\n        const nextAttributes = { [ext]: attachment.attributes.url }\n        const tag = this.__getTag(nextAttributes)\n      \n        if (\n          attachment.attributes.image &&\n          attachment.attributes.image.src &&\n          !/wp-includes\\/images\\/media\\/(audio|video).png$/.test(attachment.attributes.image.src)\n        )\n          nextAttributes.poster = attachment.attributes.image.src\n\n        const args = { tag, nextAttributes }\n\n        this.set('$field', $field).render(args)\n      }\n    }).open()\n  },\n  edit: function () {\n    const prevAttributes = this.__getAttributesFromInputs()\n    const tag = this.__getTag(prevAttributes)\n    const shortcode = this.__getShortcode(tag, prevAttributes)\n\n    if (shortcode) {\n      const editFrame = wp.media[tag].edit(shortcode).open()\n\n      editFrame.on('close', () => {\n        const nextAttributes = this.__getNextAttributes(tag, editFrame.media.attributes)\n        const $repeater = acf.get_closest_field(this.$field, 'repeater')\n        const args = { tag, nextAttributes, prevAttributes }\n        \n        this.render(args)\n        editFrame.detach()\n      })\n    }\n  },\n  __getAttributesFromInputs: function () {\n    return this.$inputContainer\n      .children()\n      .toArray()\n      .reduce((attributes, el) => {\n        const name = el.getAttribute('name').replace(/.*\\[(.*)\\]$/, '$1')\n        const value = el.getAttribute('value')\n\n        return {\n          ...attributes,\n          [name]: value\n        }\n      }, {})\n  },\n  __getShortcode: function (tag, attributes) {\n    const atts = Object\n      .keys(attributes)\n      .reduce(\n        (atts, name) =>\n          `${atts} ${name}=\"${attributes[name]}\"`,\n        ''\n      )\n      \n    return atts && `[${tag} ${atts}][/${tag}]`\n  },\n  __getNextAttributes: function (tag, frameAttributes) {\n    const defaults = this.o.playerDefaults[tag]\n    const nextAttributes = {}\n\n    if (frameAttributes.poster)\n      nextAttributes.poster = frameAttributes.poster\n\n    Object.keys(defaults).forEach(name => {\n      if (frameAttributes[name] != defaults[name])\n        nextAttributes[name] = frameAttributes[name]\n    })\n\n    this.allowedTypes.forEach(ext => {\n      if (frameAttributes[ext])\n        nextAttributes[ext] = frameAttributes[ext]\n    })\n\n    return nextAttributes\n  },\n  remove: function () {\n    this.render({})\n  }\n})\n\n/* auto-bind context to custom helper methods */\nObject.keys(acf.fields.audioVideo).forEach(prop => {\n  if (/^__/.test(prop))\n    acf.fields.audioVideo[prop] = acf.fields.audioVideo[prop].bind(acf.fields.audioVideo)\n})\n\n\n// WEBPACK FOOTER //\n// ./scripts/src/field/index.js","const $ = jQuery\n\nexport default class SelectFrame {\n  constructor(settings) {\n    let postId = acf.get('post_id')\n    \n    if (!$.isNumeric(postId))\n      postId = 0\n\n    this.settings = {\n      mode: 'select',   // 'select', 'edit'\n      title: '',        // 'Upload Image'\n      button: '',       // 'Select Image'\n      type: '',         // 'image', ''\n      field: '',        // 'field_123'\n      mime_types: '',   // 'pdf, etc'\n      library: 'all',   // 'all', 'uploadedTo'\n      multiple: false,  // false, true, 'add'\n      attachment: 0,    // the attachment to edit\n      post_id: postId,  // the post being edited\n      select: function () {},\n      ...settings\n    }\n    \n    if (this.settings.id)\n      this.settings.attachment = this.settings.id\n    \n    this.createFrame()\n    \n    acf.media.frames.push(this.frame)\n\n    return this\n  }\n  createFrame = () => {\n    const attributes = acf.media._get_media_frame_settings({\n      title: this.settings.title,\n      multiple: this.settings.multiple,\n      library: {},\n      states: [],\n    }, this.settings)\n\n    if (this.settings.hasOwnProperty('mime_types'))\n      attributes.library.type = this._getLibraryTypes()\n\n    const Query = wp.media.query(attributes.library)\n    \n    if (acf.isset(Query, 'mirroring', 'args'))\n      Query.mirroring.args._acfuploader = this.settings.field\n    \n    attributes.states = [\n      new wp.media.controller.Library({\n        library: Query,\n        multiple: attributes.multiple,\n        title: attributes.title,\n        priority: 20,\n        filterable: 'all',\n        editable: true,\n        allowLocalEdits: true\n      })\n    ]\n    \n    if (acf.isset(wp, 'media', 'controller', 'EditImage'))\n      attributes.states.push(new wp.media.controller.EditImage())\n    \n    this.frame = wp.media(attributes)\n    this.frame.uploader.options.uploader.params.allowed_extensions = this.settings.mime_types\n    this.frame.acf = this.settings\n    this.addEvents()\n    this.frame = acf.media._add_media_frame_events(this.frame, this.settings)\n  }\n  addEvents = () => {\n    this.frame.on('content:activate:browse', () => {\n      const toolbar = this.frame.content.get().toolbar\n      const filters = toolbar.get('filters')\n      \n      filters.filters.all.text = acf._e('audioVideo', 'all')\n\n      delete filters.filters.uploaded\n      delete filters.filters.audio\n      delete filters.filters.video\n      delete filters.filters.image\n      \n      $.each(filters.filters, (k, filter) => {\n        if (filter.props.type === null)\n          filter.props.type = this.settings.type\n      })\n    })\n  }\n  open = () => {\n    setTimeout(() =>\n      this.frame.open()\n    )\n\n    return this\n  }\n  _getLibraryTypes = () => {\n    const allowedTypes = this.settings.mime_types.split(',').map(t => t.trim())\n    const generalType = this.settings.type instanceof String\n      ? this.settings.type\n      : 'video'\n\n    const libraryTypes = allowedTypes.map(ext =>\n      acf.fields.audioVideo.__getMime(generalType, ext)\n    )\n\n    /* allow both audio/ogg and video/ogg */\n    if (this.settings.type instanceof Array && allowedTypes.indexOf('ogg') > -1)\n      libraryTypes.push('audio/ogg')\n\n    return libraryTypes\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./scripts/src/field/SelectFrame.js"],"sourceRoot":""}